{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jason\\\\Documents\\\\1-Web-Projects\\\\cloud-chat\\\\src\\\\components\\\\ChatMessage.js\",\n    _s = $RefreshSig$();\n\nimport defaultPic from \"../images/cloud-fill.png\";\nimport { auth, db } from \"../backend/firebase-config\";\nimport { doc } from \"firebase/firestore\";\nimport { useDocumentData } from \"react-firebase-hooks/firestore\";\nimport { useState } from \"react\";\nimport Loading from \"./Loading\";\nimport Error from \"./Error\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ChatMessage(_ref) {\n  _s();\n\n  let {\n    message,\n    setOpenMenu,\n    setAccountSelection,\n    setScreen\n  } = _ref;\n  const {\n    text,\n    uid,\n    createdAt\n  } = message;\n  const accountRef = doc(db, \"accounts\", uid);\n  const [account, loading, error] = useDocumentData(accountRef);\n  const [displayTimeStamp, setDisplayTimeStamp] = useState(false);\n\n  const photoStatus = () => {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 14\n      }, this);\n    } else {\n      const userImage = account.photoURL ? account.photoURL : defaultPic;\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: userImage,\n        alt: \"user\",\n        width: \"45\",\n        className: `rounded hover:cursor-pointer hover:outline hover:outline-yellow-200`,\n        onClick: () => {\n          setAccountSelection(uid);\n          setScreen(\"profile\");\n          setOpenMenu(true);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  const nameStatus = () => {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 14\n      }, this);\n    } else if (account) {\n      return account.userName || account.name;\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ri-close-circle-line\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), \" Deleted User\"]\n      }, void 0, true);\n    }\n  };\n\n  const messageClass = uid === auth.currentUser.uid ? \"flex-row-reverse self-end\" : \"\";\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex items-center gap-1 ${messageClass}`,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: defaultPic,\n          alt: \"user\",\n          width: \"45\",\n          className: `rounded animate-pulse`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex flex-col p-1 gap-1 ${uid === auth.currentUser.uid ? \"items-end\" : \"items-start\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-xs text-blue-900 dark:text-blue-50`,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"animate-spin\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"ri-loader-5-line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"p-1 bg-blue-100 rounded-lg text-slate-900 animate-pulse\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } else if (error) {\n    return /*#__PURE__*/_jsxDEV(Error, {\n      error: error,\n      content: \"message\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex items-center gap-1 ${messageClass}`,\n        children: [photoStatus(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex flex-col p-1 gap-1 ${uid === auth.currentUser.uid ? \"items-end\" : \"items-start\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-sm chat-info-text`,\n            children: nameStatus()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"chat-text-bubble\",\n            onClick: () => setDisplayTimeStamp(!displayTimeStamp),\n            children: text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), displayTimeStamp && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-xs chat-info-text`,\n            children: createdAt.toDate().toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n}\n\n_s(ChatMessage, \"yBhNjxJCOtj+UDil0Cvh9IBJm6A=\", false, function () {\n  return [useDocumentData];\n});\n\n_c = ChatMessage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatMessage\");","map":{"version":3,"sources":["C:/Users/jason/Documents/1-Web-Projects/cloud-chat/src/components/ChatMessage.js"],"names":["defaultPic","auth","db","doc","useDocumentData","useState","Loading","Error","ChatMessage","message","setOpenMenu","setAccountSelection","setScreen","text","uid","createdAt","accountRef","account","loading","error","displayTimeStamp","setDisplayTimeStamp","photoStatus","userImage","photoURL","nameStatus","userName","name","messageClass","currentUser","toDate","toLocaleString"],"mappings":"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","sourcesContent":["import defaultPic from \"../images/cloud-fill.png\";\r\nimport { auth, db } from \"../backend/firebase-config\";\r\nimport { doc } from \"firebase/firestore\";\r\nimport { useDocumentData } from \"react-firebase-hooks/firestore\";\r\nimport { useState } from \"react\";\r\nimport Loading from \"./Loading\";\r\nimport Error from \"./Error\";\r\n\r\nexport default function ChatMessage({\r\n  message,\r\n  setOpenMenu,\r\n  setAccountSelection,\r\n  setScreen,\r\n}) {\r\n  const { text, uid, createdAt } = message;\r\n  const accountRef = doc(db, \"accounts\", uid);\r\n  const [account, loading, error] = useDocumentData(accountRef);\r\n  const [displayTimeStamp, setDisplayTimeStamp] = useState(false);\r\n\r\n\r\n  const photoStatus = () => {\r\n    if (loading) {\r\n      return <Loading />;\r\n    } else {\r\n      const userImage = account.photoURL ? account.photoURL : defaultPic\r\n      return (\r\n        <img\r\n          src={userImage}\r\n          alt=\"user\"\r\n          width=\"45\"\r\n          className={`rounded hover:cursor-pointer hover:outline hover:outline-yellow-200`}\r\n          onClick={() => {\r\n            setAccountSelection(uid);\r\n            setScreen(\"profile\");\r\n            setOpenMenu(true);\r\n          }}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const nameStatus = () => {\r\n    if (loading) {\r\n      return <Loading />;\r\n    } else if (account) {\r\n      return account.userName || account.name;\r\n    } else {\r\n      return (\r\n        <>\r\n          <i className=\"ri-close-circle-line\"></i> Deleted User\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  const messageClass =\r\n    uid === auth.currentUser.uid ? \"flex-row-reverse self-end\" : \"\";\r\n\r\n  if (loading) {\r\n    return (\r\n      <>\r\n        <div className={`flex items-center gap-1 ${messageClass}`}>\r\n          <img\r\n            src={defaultPic}\r\n            alt=\"user\"\r\n            width=\"45\"\r\n            className={`rounded animate-pulse`}\r\n          />\r\n          <div\r\n            className={`flex flex-col p-1 gap-1 ${\r\n              uid === auth.currentUser.uid ? \"items-end\" : \"items-start\"\r\n            }`}\r\n          >\r\n            <p className={`text-xs text-blue-900 dark:text-blue-50`}>\r\n              <span className=\"animate-spin\">\r\n                <i className=\"ri-loader-5-line\"></i>\r\n              </span>\r\n            </p>\r\n\r\n            <p className=\"p-1 bg-blue-100 rounded-lg text-slate-900 animate-pulse\">\r\n              Loading...\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  } else if (error) {\r\n    return <Error error={error} content={\"message\"} />;\r\n  } else {\r\n    return (\r\n      <>\r\n        <div className={`flex items-center gap-1 ${messageClass}`}>\r\n          {photoStatus()}\r\n          <div\r\n            className={`flex flex-col p-1 gap-1 ${\r\n              uid === auth.currentUser.uid ? \"items-end\" : \"items-start\"\r\n            }`}\r\n          >\r\n            <p\r\n              className={`text-sm chat-info-text`}\r\n            >\r\n              {nameStatus()}\r\n            </p>\r\n\r\n            <p\r\n              className=\"chat-text-bubble\"\r\n              onClick={() => setDisplayTimeStamp(!displayTimeStamp)}\r\n            >\r\n              {text}\r\n            </p>\r\n            {displayTimeStamp && (\r\n              <p\r\n                className={`text-xs chat-info-text`}\r\n              >\r\n                {createdAt.toDate().toLocaleString()}\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}