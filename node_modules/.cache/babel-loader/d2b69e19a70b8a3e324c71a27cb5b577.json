{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jason\\\\Documents\\\\1-Web-Projects\\\\cloud-chat\\\\src\\\\components\\\\ChatMessage.js\",\n    _s = $RefreshSig$();\n\nimport defaultPic from \"../images/cloud-fill.png\";\nimport { auth, db } from \"../backend/firebase-config\";\nimport { doc, getDoc, collection } from \"firebase/firestore\";\nimport { useDocumentData } from \"react-firebase-hooks/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ChatMessage(props) {\n  _s();\n\n  const {\n    text,\n    uid\n  } = props.message;\n  const accountRef = doc(db, \"accounts\", uid);\n  const [account, loading, error] = useDocumentData(accountRef);\n\n  const nameStatus = () => {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ri-loader-5-line\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 14\n      }, this);\n    } else if (account) {\n      return account.name;\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ri-error-warning-line\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 16\n        }, this), \" Error loading username\"]\n      }, void 0, true);\n    }\n  };\n\n  const messageClass = uid === auth.currentUser.uid ? \"flex-row-reverse self-end\" : \"\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex items-center gap-1 ${messageClass}`,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: account ? account.photoURL : defaultPic,\n        alt: \"user\",\n        width: \"45\",\n        className: `rounded ${loading && \"animate-pulse\"}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex flex-col p-1 gap-1 ${uid === auth.currentUser.uid ? \"items-end\" : \"items-start\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-xs ${error ? \"text-red-900\" : \"text-blue-900\"}`,\n          children: nameStatus()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p-1 bg-blue-100 rounded-lg text-slate-900\",\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(ChatMessage, \"pTZdJAhMQnOIuoXKw3m8oB+qAJM=\", false, function () {\n  return [useDocumentData];\n});\n\n_c = ChatMessage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatMessage\");","map":{"version":3,"sources":["C:/Users/jason/Documents/1-Web-Projects/cloud-chat/src/components/ChatMessage.js"],"names":["defaultPic","auth","db","doc","getDoc","collection","useDocumentData","ChatMessage","props","text","uid","message","accountRef","account","loading","error","nameStatus","name","messageClass","currentUser","photoURL"],"mappings":";;;AAAA,OAAOA,UAAP,MAAuB,0BAAvB;AACA,SAASC,IAAT,EAAeC,EAAf,QAAyB,4BAAzB;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,UAAtB,QAAwC,oBAAxC;AACA,SAASC,eAAT,QAAgC,gCAAhC;;;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AACzC,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAgBF,KAAK,CAACG,OAA5B;AACA,QAAMC,UAAU,GAAGT,GAAG,CAACD,EAAD,EAAK,UAAL,EAAiBQ,GAAjB,CAAtB;AACA,QAAM,CAACG,OAAD,EAAUC,OAAV,EAAmBC,KAAnB,IAA4BT,eAAe,CAACM,UAAD,CAAjD;;AAEA,QAAMI,UAAU,GAAG,MAAM;AACvB,QAAIF,OAAJ,EAAa;AACX,0BAAO;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BAA8B;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AAA9B;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFD,MAEO,IAAID,OAAJ,EAAa;AAClB,aAAOA,OAAO,CAACI,IAAf;AACD,KAFM,MAEA;AACL,0BAAO;AAAA,gCAAE;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAAF;AAAA,sBAAP;AACD;AACF,GARD;;AAUA,QAAMC,YAAY,GAChBR,GAAG,KAAKT,IAAI,CAACkB,WAAL,CAAiBT,GAAzB,GAA+B,2BAA/B,GAA6D,EAD/D;AAGA,sBACE;AAAA,2BACE;AAAK,MAAA,SAAS,EAAG,2BAA0BQ,YAAa,EAAxD;AAAA,8BACE;AACE,QAAA,GAAG,EAAEL,OAAO,GAAGA,OAAO,CAACO,QAAX,GAAsBpB,UADpC;AAEE,QAAA,GAAG,EAAC,MAFN;AAGE,QAAA,KAAK,EAAC,IAHR;AAIE,QAAA,SAAS,EAAG,WAAUc,OAAO,IAAI,eAAgB;AAJnD;AAAA;AAAA;AAAA;AAAA,cADF,eAOE;AACE,QAAA,SAAS,EAAG,2BACVJ,GAAG,KAAKT,IAAI,CAACkB,WAAL,CAAiBT,GAAzB,GAA+B,WAA/B,GAA6C,aAC9C,EAHH;AAAA,gCAKE;AAAG,UAAA,SAAS,EAAG,WAAUK,KAAK,GAAG,cAAH,GAAoB,eAAgB,EAAlE;AAAA,oBAAsEC,UAAU;AAAhF;AAAA;AAAA;AAAA;AAAA,gBALF,eAOE;AAAG,UAAA,SAAS,EAAC,2CAAb;AAAA,oBAA0DP;AAA1D;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAqBD;;GAvCuBF,W;UAGYD,e;;;KAHZC,W","sourcesContent":["import defaultPic from \"../images/cloud-fill.png\";\r\nimport { auth, db } from \"../backend/firebase-config\";\r\nimport { doc, getDoc, collection } from \"firebase/firestore\";\r\nimport { useDocumentData } from \"react-firebase-hooks/firestore\";\r\n\r\nexport default function ChatMessage(props) {\r\n  const { text, uid,} = props.message;\r\n  const accountRef = doc(db, \"accounts\", uid)\r\n  const [account, loading, error] = useDocumentData(accountRef)\r\n\r\n  const nameStatus = () => {\r\n    if (loading) {\r\n      return <div className=\"animate-spin\"><i className=\"ri-loader-5-line\"></i></div>\r\n    } else if (account) {\r\n      return account.name\r\n    } else {\r\n      return <><i className=\"ri-error-warning-line\"></i> Error loading username</>\r\n    }\r\n  }\r\n  \r\n  const messageClass =\r\n    uid === auth.currentUser.uid ? \"flex-row-reverse self-end\" : \"\";\r\n    \r\n  return (\r\n    <>\r\n      <div className={`flex items-center gap-1 ${messageClass}`}>\r\n        <img\r\n          src={account ? account.photoURL : defaultPic}\r\n          alt=\"user\"\r\n          width=\"45\"\r\n          className={`rounded ${loading && \"animate-pulse\"}`}\r\n        />\r\n        <div\r\n          className={`flex flex-col p-1 gap-1 ${\r\n            uid === auth.currentUser.uid ? \"items-end\" : \"items-start\"\r\n          }`}\r\n        >\r\n          <p className={`text-xs ${error ? \"text-red-900\" : \"text-blue-900\"}`}>{nameStatus()}</p>\r\n\r\n          <p className=\"p-1 bg-blue-100 rounded-lg text-slate-900\">{text}</p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}