{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jason\\\\Documents\\\\1-Web-Projects\\\\cloud-chat\\\\src\\\\components\\\\user-settings-page\\\\UpdateName.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { auth } from \"../../backend/firebase-config\";\nimport { updateProfile } from \"firebase/auth\";\nimport { updateDoc } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UpdateName(_ref) {\n  _s();\n\n  let {\n    account,\n    accountRef\n  } = _ref;\n  const currentUser = auth.currentUser;\n  const [display, setDisplay] = useState(false);\n  const [nameForm, setNameForm] = useState(\"\");\n  const [nameStatus, setNameStatus] = useState(\"\");\n\n  const nameSubmit = async () => {\n    setNameStatus(\"Updating name...\");\n    await updateProfile(currentUser, {\n      displayName: nameForm\n    }).then(() => updateDoc(accountRef, {\n      name: nameForm\n    }).then(() => {\n      setNameStatus(\"Name updated: \" + nameForm);\n      setNameForm(\"\");\n      setTimeout(() => setNameStatus(\"\"), 5000);\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"settings-section settings-section-border\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"heading heading-hover\",\n      onClick: () => setDisplay(!display),\n      children: [\"Name\", \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n        className: `ri-arrow-${display ? \"up\" : \"down\"}-s-line align-sub`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), display && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: account.name,\n        className: \"text-input\",\n        value: nameForm,\n        onChange: e => setNameForm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn\",\n        disabled: !nameForm,\n        onClick: nameSubmit,\n        children: \"Change Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: nameStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UpdateName, \"d2kVQE8cpYXkpp+HqSZ36jVxTNA=\");\n\n_c = UpdateName;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateName\");","map":{"version":3,"sources":["C:/Users/jason/Documents/1-Web-Projects/cloud-chat/src/components/user-settings-page/UpdateName.js"],"names":["useState","auth","updateProfile","updateDoc","UpdateName","account","accountRef","currentUser","display","setDisplay","nameForm","setNameForm","nameStatus","setNameStatus","nameSubmit","displayName","then","name","setTimeout","e","target","value"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,IAAT,QAAqB,+BAArB;AACA,SAASC,aAAT,QAA8B,eAA9B;AACA,SAASC,SAAT,QAA0B,oBAA1B;;;AAEA,eAAe,SAASC,UAAT,OAA2C;AAAA;;AAAA,MAAvB;AAACC,IAAAA,OAAD;AAAUC,IAAAA;AAAV,GAAuB;AACxD,QAAMC,WAAW,GAAGN,IAAI,CAACM,WAAzB;AAEA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACY,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAAC,EAAD,CAA5C;;AAEA,QAAMc,UAAU,GAAG,YAAY;AAC7BD,IAAAA,aAAa,CAAC,kBAAD,CAAb;AAEA,UAAMX,aAAa,CAACK,WAAD,EAAc;AAAEQ,MAAAA,WAAW,EAAEL;AAAf,KAAd,CAAb,CAAsDM,IAAtD,CAA2D,MAC/Db,SAAS,CAACG,UAAD,EAAa;AAAEW,MAAAA,IAAI,EAAEP;AAAR,KAAb,CAAT,CAA0CM,IAA1C,CAA+C,MAAM;AACnDH,MAAAA,aAAa,CAAC,mBAAmBH,QAApB,CAAb;AACAC,MAAAA,WAAW,CAAC,EAAD,CAAX;AACAO,MAAAA,UAAU,CAAC,MAAML,aAAa,CAAC,EAAD,CAApB,EAA0B,IAA1B,CAAV;AACD,KAJD,CADI,CAAN;AAOD,GAVD;;AAYA,sBACE;AAAS,IAAA,SAAS,EAAC,0CAAnB;AAAA,4BACE;AACE,MAAA,SAAS,EAAC,uBADZ;AAEE,MAAA,OAAO,EAAE,MAAMJ,UAAU,CAAC,CAACD,OAAF,CAF3B;AAAA,yBAIO,GAJP,eAKE;AACE,QAAA,SAAS,EAAG,YAAWA,OAAO,GAAG,IAAH,GAAU,MAAO;AADjD;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAWGA,OAAO,iBACN;AAAA,8BACE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,WAAW,EAAEH,OAAO,CAACY,IAFvB;AAGE,QAAA,SAAS,EAAC,YAHZ;AAIE,QAAA,KAAK,EAAEP,QAJT;AAKE,QAAA,QAAQ,EAAGS,CAAD,IAAOR,WAAW,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV;AAL9B;AAAA;AAAA;AAAA;AAAA,cADF,eAQE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,KAFZ;AAGE,QAAA,QAAQ,EAAE,CAACX,QAHb;AAIE,QAAA,OAAO,EAAEI,UAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARF,eAgBE;AAAA,kBAAIF;AAAJ;AAAA;AAAA;AAAA;AAAA,cAhBF;AAAA,oBAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkCD;;GAtDuBR,U;;KAAAA,U","sourcesContent":["import { useState } from \"react\";\r\nimport { auth } from \"../../backend/firebase-config\";\r\nimport { updateProfile } from \"firebase/auth\";\r\nimport { updateDoc } from \"firebase/firestore\";\r\n\r\nexport default function UpdateName({account, accountRef}) {\r\n  const currentUser = auth.currentUser;\r\n\r\n  const [display, setDisplay] = useState(false);\r\n\r\n  const [nameForm, setNameForm] = useState(\"\");\r\n  const [nameStatus, setNameStatus] = useState(\"\");\r\n\r\n  const nameSubmit = async () => {\r\n    setNameStatus(\"Updating name...\");\r\n\r\n    await updateProfile(currentUser, { displayName: nameForm }).then(() =>\r\n      updateDoc(accountRef, { name: nameForm }).then(() => {\r\n        setNameStatus(\"Name updated: \" + nameForm);\r\n        setNameForm(\"\");\r\n        setTimeout(() => setNameStatus(\"\"), 5000);\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section className=\"settings-section settings-section-border\">\r\n      <h2\r\n        className=\"heading heading-hover\"\r\n        onClick={() => setDisplay(!display)}\r\n      >\r\n        Name{\" \"}\r\n        <i\r\n          className={`ri-arrow-${display ? \"up\" : \"down\"}-s-line align-sub`}\r\n        ></i>\r\n      </h2>\r\n\r\n      {display && (\r\n        <>\r\n          <input\r\n            type=\"text\"\r\n            placeholder={account.name}\r\n            className=\"text-input\"\r\n            value={nameForm}\r\n            onChange={(e) => setNameForm(e.target.value)}\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn\"\r\n            disabled={!nameForm}\r\n            onClick={nameSubmit}\r\n          >\r\n            Change Name\r\n          </button>\r\n          <p>{nameStatus}</p>\r\n        </>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}